{{ define "main" }}

{{- $image := .Resources.GetMatch "header" -}}
{{ if $image }}
    {{ $image := $image.Fill "1280x60 smart" }}
    {{ $imageUrl := $image.Permalink }}
    {{ $.Scratch.Set "imageUrl" $imageUrl }}
{{ end }}

{{ $img := $.Scratch.Get "imageUrl" }}

<div class="post-featured-image" style="background-image: url('{{$img}}')"></div>

<main>
	<div class="post">
        {{ partial "single/post-info.html" . }}
        {{ partial "single/title.html" . }}

        {{ partial "single/header.html" . }}

		{{ .Content }}

		{{ partial "single/footer.html" . }}
    </div>
    
    <nav>
        <ul class="pagination justify-content-center simple-page">
            {{ if .PrevPage }}
            <li class="page-item"><a class="page-link" href="{{ .PrevPage.RelPermalink }}">&#8592;</a></li>
            <span class="sr-only">Previous</span>
            {{ else }}
            <li class="page-item"><a class="page-link invisible" href="#">&#8592;</a></li>
            {{ end }}
            <li class="page-item"><a class="page-link top" href="#">Top</a></li>
            {{ if .NextPage }}
            <li class="page-item"><a class="page-link" href="{{ .NextPage.RelPermalink }}">&#8594;</a></li>
            <span class="sr-only">Next</span>
            {{ else }}
            <li class="page-item"><a class="page-link invisible" href="#">&#8594;</a></li>
            {{ end }}
        </ul>
    </nav>
</main>

{{ end }}
